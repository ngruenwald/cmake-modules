# source: https://github.com/GNOME/libxml2
# target: zlibstatic, zlib

include(${CMAKE_CURRENT_LIST_DIR}/external.cmake)

set(EXT_VERSION "2.11.5")
set(EXT_URL_HASH "SHA256=711675470075cc85ba450f56aff7424f1ecdef00bc5d1d5dced3ffecd1a9b772")

AddExternalProject(
  libxml2
  UPDATE_DISCONNECTED true
  URL https://github.com/GNOME/libxml2/archive/refs/tags/v${EXT_VERSION}.zip
  URL_HASH ${EXT_URL_HASH}
  CMAKE_ARGS
    -D CMAKE_BUILD_TYPE=${CMAKE_BUILD_TYPE}
    -D CMAKE_INSTALL_PREFIX=${EXTERNAL_INSTALL_LOCATION}
    -D BUILD_SHARED_LIBS=OFF
    # -D LIBXML2_WITH_C14N=ON
    # -D LIBXML2_WITH_CATALOG=ON
    # -D LIBXML2_WITH_DEBUG=ON
    # -D LIBXML2_WITH_FTP=OFF
    # -D LIBXML2_WITH_HTML=ON
    # -D LIBXML2_WITH_HTTP=ON
    # -D LIBXML2_WITH_ICONV=ON
    # -D LIBXML2_WITH_ICU=OFF
    # -D LIBXML2_WITH_ISO8859X=ON
    # -D LIBXML2_WITH_LEGACY=OFF
    # -D LIBXML2_WITH_LZMA=ON
    # -D LIBXML2_WITH_MEM_DEBUG=OFF
    # -D LIBXML2_WITH_MODULES=ON
    # -D LIBXML2_WITH_OUTPUT=ON
    # -D LIBXML2_WITH_PATTERN=ON
    # -D LIBXML2_WITH_PROGRAMS=ON
    # -D LIBXML2_WITH_PUSH=ON
    # -D LIBXML2_WITH_PYTHON=ON
    # -D LIBXML2_WITH_READER=ON
    # -D LIBXML2_WITH_REGEXPS=ON
    # -D LIBXML2_WITH_SAX1=ON
    # -D LIBXML2_WITH_SCHEMAS=ON
    # -D LIBXML2_WITH_SCHEMATRON=ON
    # -D LIBXML2_WITH_TESTS=ON
    # -D LIBXML2_WITH_THREADS=ON
    # -D LIBXML2_WITH_THREAD_ALLOC=OFF
    # -D LIBXML2_WITH_TREE=ON
    # -D LIBXML2_WITH_VALID=ON
    # -D LIBXML2_WITH_WRITER=ON
    # -D LIBXML2_WITH_XINCLUDE=ON
    # -D LIBXML2_WITH_XPATH=ON
    # -D LIBXML2_WITH_XPTR=ON
    # -D LIBXML2_WITH_XPTR_LOCS=OFF
    # -D LIBXML2_WITH_ZLIB=ON
)
